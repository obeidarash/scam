{% extends 'shared/base.html' %}
{% load countries %}
{% load static %}
{% load widget_tweaks %}

{% block title %}
    Deposit
{% endblock %}
{% block content %}

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <strong>Well! </strong>{{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}

    <h2>Your Profile</h2>



    <div class="alert alert-warning">
    You can't change anything, if there is a problem please <a href="{% url 'core:contact' %}">contact us</a>
    </div>


    <div class="mb-3">
        <label for="{{ profile_form.email.id_for_label }}" class="form-label">Email (username): </label>
        {{ profile_form.email|add_error_class:"is-invalid" }}
        {% for error in profile_form.email.errors %}
            <div id="{{ profile_form.email.id_for_label }}" class="invalid-feedback">
                {{ error }}
            </div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="{{ profile_form.fullname.id_for_label }}" class="form-label">Fullname: </label>
        {{ profile_form.fullname|add_error_class:"is-invalid" }}
        {% for error in profile_form.fullname.errors %}
            <div id="{{ profile_form.fullname.id_for_label }}" class="invalid-feedback">
                {{ error }}
            </div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="country" class="form-label">Country: </label>
        <select name="country" id="country" class="form-control" aria-label="Default select example" disabled>
            {% get_countries as countries %}
            {% for country in countries %}
                {% if request.user.country == country.code %}
                    <option value="{{ country.code }}" selected>{{ country.name }}</option>
                {% else %}
                    <option value="{{ country.code }}">{{ country.name }}</option>
                {% endif %}
            {% endfor %}
        </select>
        {% for error in profile_form.fullname.errors %}
            <div id="{{ profile_form.fullname.id_for_label }}" class="invalid-feedback">
                {{ error }}
            </div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="{{ profile_form.password.id_for_label }}" class="form-label">Password: </label>
        {{ profile_form.password|add_error_class:"is-invalid" }}
        {% for error in profile_form.password.errors %}
            <div id="{{ profile_form.password.id_for_label }}" class="invalid-feedback">
                {{ error }}
            </div>
        {% endfor %}
        <div id="{{ profile_form.password.id_for_label }}" class="form-text">
        </div>
    </div>



{% endblock %}